<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - HomeStock Express</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Same CSS structure */
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #f5f5f5;
            margin: 0;
            padding: 20px;
        }
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .admin-header {
            background: #2a6b3b;
            color: white;
            padding: 30px;
            text-align: center;
        }
        .admin-nav {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        .admin-nav button {
            padding: 10px 20px;
            margin-right: 10px;
            border: 1px solid #2a6b3b;
            background: white;
            color: #2a6b3b;
            border-radius: 6px;
            cursor: pointer;
        }
        .admin-nav button.active {
            background: #2a6b3b;
            color: white;
        }
        .admin-content {
            padding: 40px;
            min-height: 500px;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 16px;
        }
        .btn-admin {
            background: #2a6b3b;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
        }
        .products-list {
            margin-top: 30px;
        }
        .product-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 1px solid #eaeaea;
            border-radius: 8px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <div class="admin-header">
            <h1><i class="fas fa-cogs"></i> HomeStock Express Admin Panel</h1>
            <p>Manage your products, orders, and website</p>
        </div>
        
        <div class="admin-nav">
            <button onclick="showTab('addProduct')" class="active">Add Product</button>
            <button onclick="showTab('manageProducts')">Manage Products</button>
            <button onclick="showTab('viewOrders')">View Orders</button>
            <button onclick="showTab('siteSettings')">Site Settings</button>
            <button onclick="window.location.href='index.html'" style="background: #ff7b00; color: white; float: right;">
                <i class="fas fa-home"></i> Back to Website
            </button>
        </div>
        
        <div class="admin-content">
            <!-- Add Product Tab -->
            <div id="addProduct" class="tab-content active">
                <h2><i class="fas fa-plus-circle"></i> Add New Product</h2>
                <form id="addProductForm">
                    <div class="form-group">
                        <label>Product Name</label>
                        <input type="text" id="productName" required>
                    </div>
                    <div class="form-group">
                        <label>Price ($)</label>
                        <input type="number" id="productPrice" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Category</label>
                        <select id="productCategory" required>
                            <option value="cleaning">Cleaning Supplies</option>
                            <option value="kitchen">Kitchen Essentials</option>
                            <option value="personal">Personal Care</option>
                            <option value="home">Home & Office</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Image URL</label>
                        <input type="text" id="productImage" placeholder="https://example.com/image.jpg" required>
                    </div>
                    <div class="form-group">
                        <label>Description</label>
                        <textarea id="productDescription" rows="4" required></textarea>
                    </div>
                    <button type="submit" class="btn-admin">
                        <i class="fas fa-save"></i> Add Product
                    </button>
                </form>
                <div id="productMessage" style="margin-top: 20px; padding: 15px; border-radius: 6px; display: none;"></div>
            </div>
            
            <!-- Manage Products Tab -->
            <div id="manageProducts" class="tab-content">
                <h2><i class="fas fa-edit"></i> Manage Products</h2>
                <div class="products-list" id="productsList">
                    <!-- Products will be listed here -->
                </div>
            </div>
            
            <!-- View Orders Tab -->
            <div id="viewOrders" class="tab-content">
                <h2><i class="fas fa-shopping-bag"></i> Recent Orders</h2>
                <div style="padding: 30px; text-align: center; background: #f8f9fa; border-radius: 8px;">
                    <i class="fas fa-truck" style="font-size: 4rem; color: #ccc; margin-bottom: 20px;"></i>
                    <h3>Order Management Coming Soon</h3>
                    <p>This feature will show customer orders and delivery status</p>
                </div>
            </div>
            
            <!-- Site Settings Tab -->
            <div id="siteSettings" class="tab-content">
                <h2><i class="fas fa-cog"></i> Website Settings</h2>
                <form id="siteSettingsForm">
                    <div class="form-group">
                        <label>Business Phone Number</label>
                        <input type="text" id="businessPhone" value="+254 712 345 678" required>
                    </div>
                    <div class="form-group">
                        <label>WhatsApp Number</label>
                        <input type="text" id="whatsappNumber" value="+254 712 345 678" required>
                    </div>
                    <div class="form-group">
                        <label>Email Address</label>
                        <input type="email" id="businessEmail" value="sales@homestockexpress.co.ke" required>
                    </div>
                    <div class="form-group">
                        <label>M-Pesa Payment Number</label>
                        <input type="text" id="mpesaNumber" value="0712 345 678" required>
                    </div>
                    <div class="form-group">
                        <label>Delivery Areas</label>
                        <textarea id="deliveryAreas" rows="4" required>Nairobi CBD, Westlands, Karen, Langata, Kileleshwa, Kilimani, Parklands, Upper Hill</textarea>
                    </div>
                    <button type="submit" class="btn-admin">
                        <i class="fas fa-save"></i> Save Settings
                    </button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Tab switching
        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all buttons
            document.querySelectorAll('.admin-nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Load products if managing products
            if (tabId === 'manageProducts') {
                loadProducts();
            }
        }
        
        // Add product form
        document.getElementById('addProductForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const product = {
                id: Date.now(),
                name: document.getElementById('productName').value,
                price: parseFloat(document.getElementById('productPrice').value),
                category: document.getElementById('productCategory').value,
                image: document.getElementById('productImage').value,
                description: document.getElementById('productDescription').value,
                dateAdded: new Date().toLocaleDateString()
            };
            
            // Save to localStorage
            let products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            products.push(product);
            localStorage.setItem('adminProducts', JSON.stringify(products));
            
            // Show success message
            const message = document.getElementById('productMessage');
            message.style.display = 'block';
            message.style.background = '#d4edda';
            message.style.color = '#155724';
            message.innerHTML = `<i class="fas fa-check"></i> Product "${product.name}" added successfully!`;
            
            // Clear form
            this.reset();
            
            // Hide message after 3 seconds
            setTimeout(() => {
                message.style.display = 'none';
            }, 3000);
        });
        
        // Load products for management
        function loadProducts() {
            const products = JSON.parse(localStorage.getItem('adminProducts')) || [];
            const container = document.getElementById('productsList');
            
            if (products.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; background: #f8f9fa; border-radius: 8px;">
                        <i class="fas fa-box-open" style="font-size: 3rem; color: #ccc; margin-bottom: 20px;"></i>
                        <h3>No products yet</h3>
                        <p>Add your first product using the "Add Product" tab</p>
                    </div>
                `;
                return;
            }
            
            let html = '';
            products.forEach((product, index) => {
                html += `
                    <div class="product-item">
                        <div>
                            <h4>${product.name}</h4>
                            <p>$${product.price.toFixed(2)} | ${product.category} | Added: ${product.dateAdded}</p>
                        </div>
                        <div>
                            <button onclick="editProduct(${index})" style="background: #2a6b3b; color: white; border: none; padding: 8px 15px; border-radius: 4px; margin-right: 10px; cursor: pointer;">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                            <button onclick="deleteProduct(${index})" style="background: #dc3545; color: white; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer;">
                                <i class="fas fa-trash"></i> Delete
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function editProduct(index) {
            alert('Edit feature coming soon!');
        }
        
        function deleteProduct(index) {
            if (confirm('Are you sure you want to delete this product?')) {
                let products = JSON.parse(localStorage.getItem('adminProducts')) || [];
                products.splice(index, 1);
                localStorage.setItem('adminProducts', JSON.stringify(products));
                loadProducts();
            }
        }
        
        // Site settings form
        document.getElementById('siteSettingsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const settings = {
                phone: document.getElementById('businessPhone').value,
                whatsapp: document.getElementById('whatsappNumber').value,
                email: document.getElementById('businessEmail').value,
                mpesa: document.getElementById('mpesaNumber').value,
                areas: document.getElementById('deliveryAreas').value
            };
            
            localStorage.setItem('siteSettings', JSON.stringify(settings));
            
            alert('Settings saved! These will be used across the website.');
        });
        
        // Load saved settings
        document.addEventListener('DOMContentLoaded', function() {
            const savedSettings = JSON.parse(localStorage.getItem('siteSettings'));
            if (savedSettings) {
                document.getElementById('businessPhone').value = savedSettings.phone || '+254 712 345 678';
                document.getElementById('whatsappNumber').value = savedSettings.whatsapp || '+254 712 345 678';
                document.getElementById('businessEmail').value = savedSettings.email || 'sales@homestockexpress.co.ke';
                document.getElementById('mpesaNumber').value = savedSettings.mpesa || '0712 345 678';
                document.getElementById('deliveryAreas').value = savedSettings.areas || 'Nairobi CBD, Westlands, Karen, Langata';
            }
        });
    </script>
</body>
</html>